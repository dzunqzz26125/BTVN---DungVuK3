<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       *Phương thức forEach2()
        Hãy mở rộng Array.prototype bằng cách thêm một phương thức mới là forEach2(callback) có chức năng tương tự như phương thức forEach() nguyên bản của JavaScript.

        Cụ thể:

        Phương thức này nhận một hàm callback làm tham số duy nhất của callback, bỏ qua tham số thisArg. Hàm này
        sẽ được gọi cho từng phần tử trong mảng.
        Hàm callback nhận vào 3 tham số: giá trị hiện tại, chỉ mục của phần tử và chính mảng đó.
        Phương thức chỉ lặp qua các phần tử theo length ban đầu của mảng (nếu mảng thay đổi trong quá trình lặp, số lần lặp
        không bị thay đổi).
        Phương thức sẽ bỏ qua các phần tử trống (empty elements) trong mảng khi gọi callback.
        Yêu cầu: Không được sử dụng phương thức forEach() nguyên bản của JavaScript.
       */
      Array.prototype.forEach2 = function (callback) {
        if (typeof callback !== "function") {
          throw new TypeError(callback + "is not a function");
        }

        const length = this.length;

        for (let i = 0; i < length; i++) {
          if (i in this) {
            callback(this[i], i, this);
          }
        }
      };

      const arr = [1, 2, 3, 4, 5];

      arr.forEach2((value, index) => {
        console.log(`Value at index ${index}: ${value}`);
      });
    </script>
  </body>
</html>
