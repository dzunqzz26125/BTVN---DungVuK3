<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       *Phương thức filter2()
        Hãy mở rộng Array.prototype bằng cách thêm một phương thức mới là filter2(callback) có chức năng tương tự như phương thức filter() nguyên bản của JavaScript.

        Cụ thể:

        Phương thức này nhận một hàm callback làm tham số duy nhất, bỏ qua tham số thisArg trong phương thức nguyên bản. Hàm này
        sẽ được gọi cho từng phần tử trong mảng.
        Hàm callback nhận vào 3 tham số: giá trị hiện tại, chỉ mục của phần tử và chính mảng đó.
        Phương thức sẽ trả về một mảng mới chứa các phần tử mà callback trả về true.
        Phương thức chỉ lặp qua các phần tử theo length ban đầu của mảng (nếu mảng thay đổi trong quá trình lặp, số lần lặp
        không bị thay đổi).
        Phương thức sẽ bỏ qua các phần tử trống (empty elements) trong mảng khi gọi callback.
        Yêu cầu: Không được sử dụng phương thức filter() nguyên bản của JavaScript.
       */
      Array.prototype.filter2 = function (callback) {
        if (typeof callback !== "function") {
          throw new TypeError(callback + "is not a function");
        }

        const result = [];
        const length = this.length;

        for (let i = 0; i < length; i++) {
          if (i in this) {
            if (callback(this[i], i, this)) {
              result.push(this[i]);
            }
          }
        }
        return result;
      };

      const arr = [1, 2, 3, 4, 5];
      const result = arr.filter2((value) => {
        return value % 2 !== 0;
      });
      console.log(result);
    </script>
  </body>
</html>
